≪ゴーストエクスプローラ通（α版）≫ ver 0.3.0

顔画像・立ち絵表示付きのゴーストエクスプローラです。
絵を見ながらゴーストの切り替えや呼び出しを行うことができます。

・まだ試作段階のため、不具合が多数存在する可能性があります。

・立ち絵の生成処理を独自エンジン（仮称：偽SERIKO）で実装しているため、
  ゴーストによっては立ち絵を正しく表示できないかもしれません。
  もし表示できないゴーストがいたらご連絡ください。対応できそうであれば対応します。
  (ゴースト側の立ち絵定義内容が著しく仕様に沿っていないような場合は、対応しない場合があります)

作者: ポン
Twitter: https://twitter.com/tetradice
Ukadon: https://ukadon.shillest.net/web/accounts/29648
ソース (Github) : https://github.com/tetradice/ukagaka_explorer2

****************

■動作詳細

・ゴースト側でのシェル変更、着せ替え変更の内容も反映されます。



■動作詳細（ゴースト作者さん向け）

・ゴーストのフォルダに ghost\master\explorer2\character_descript.txt を置くと、ゴースト選択時に、そのテキストファイルの内容を
  ゴーストの説明文として表示します。キャラクター紹介のようなノリで書いてください。

    ※テキストファイルのエンコーディングは【UTF-8】である必要があります
      （シフトJISは不可であることに注意してください）

・シェルのフォルダ内に explorer2\descript.txt を置き、下記のように記載すると、
  「立ち絵画像のうち、どこからどこまでの範囲を顔画像として表示するか」を指定することができます。
  （マスターシェルの場合なら、shell\master\explorer2\descript.txt に置いてください）
  
    face.left,28
    face.top,28
    face.width,192
    face.height,160

  left, topで左上原点を指定し、width, heightで幅と高さを指定します。
  width, heightの比率は、できる限り「6:5」となるようにしてください。
  （実際に表示する顔画像のサイズは、幅120px × 高さ100pxです）

・起動時に、ゴースト側で OnGhostExplorer2Open イベントを発生させます。（Referenceなし）



■現時点（α版）での制限事項

・他ゴーストへの切り替えや呼び出しを実行した時に、切り替え時のトークが行われません。（OnGhostChangingなどのイベントが発生しません）

・SERIKOの描画メソッドのうち、正しく処理できるのは、基本的な重ね合わせメソッド (base, overlay, add, bind) のみです。
  他の描画メソッドはすべてoverlay扱いで描画します。

・SERIKOの機能のうち、下記のものには対応できていません。
  ・animation*.option,background



■今後実装したい機能

・ゴーストデベロッパー向けモード（右クリックメニューからゴーストのフォルダを開くことができるとか）

・プラグインとして呼び出すだけではなく、Windowsのスタートメニュー等から単体起動できるようにする

・シェルの読み込みと立ち絵描画部分をライブラリとして切り出して、個別配布できるようにする

・バルーンエクスプローラ通

****************

このプラグインは、YAYA as PLUGINを使用して作られています。

yaya.dllはYAYAのライセンスに基づき、
・伺か関係には完全に自由に（NYSL相当と考えて良い）
・それ以外には修正BSDライセンスでやはり自由に
配布・修正等が可能です。
（詳細は同梱の yaya-readme.txt を参照してください）

それ以外のテキストファイル、辞書ファイル、exeファイルなどの再配布や改変については、ポンまで個別にご相談ください。
（β版になるころまでには、ライセンスを再配布可能な形でちゃんと整備します）

****************

■更新履歴

2020/5/24 ver 0.3.0
* [機能追加] 並び順の変更を行えるようにした（名前順/最近起動した順/累計起動時間順）
* [機能追加] ゴースト名による検索を行えるようにした
* [機能追加] SSP側で2つ以上のゴーストフォルダを登録している場合、どのフォルダのゴーストを表示するか選択できるようにした
* [変更] 高速化のため、起動直後には最低限のゴースト情報だけを読み込み、シェル情報の読み込みや顔画像の生成はそのあとに随時行うようにした
         (大量にゴーストをインストールしている環境向けの改良)
* [変更] 前回終了時のウインドウサイズを復元するようにした
* [変更] その他細かい変更

2020/5/20  ver 0.2.0
* [機能追加] explorer2\character_descript.txt をゴーストフォルダに置くことで、ゴーストの説明文を表示できるようにした
* [機能追加] explorer2\descript.txt をシェルフォルダに置くことで、顔画像の表示範囲を指定できるようにした

* [変更] SSP上で起動中のゴーストについては、顔画像や立ち絵を表示しないようにした（不在表示）
* [変更] ゴーストエクスプローラ通を呼び出したゴーストを切り替えた or 終了した後でも、ゴーストの呼び出しを行えるようにした
            - SSP自体を終了させている場合、SSP.exeを再度立ち上げてゴーストを呼び出す
* [変更] ゴーストエクスプローラ通を呼び出したゴーストを切り替えた or 終了した際、それを自動的に検知して、ゴースト切替ボタンを押下不可にするようにした
* [変更] 立ち絵画像の2回目以降の表示を高速化するようにした（1回目の表示時にキャッシュして、2回目以降の表示で使い回すようにした）
* [変更] その他細かい変更

* [修正] 一部ゴーストの立ち絵を正しく処理できない不具合を修正
           - elementの処理順がSSPと異なっていた (修正前: IDの昇順 → 修正後: surfaces.txt 内に書いた順)
           - 一部ゴーストの立ち絵で、elementや着せ替えパーツについて意図しない拡大縮小が行われる場合があった
           - 通常の立ち絵画像やelementが存在せず、animationの組み合わせのみで立ち絵を生成しているシェルを処理できなかった
           - 複数枚のelementや着せ替え画像を組み合わせて、2枚目以降の画像が1枚目のサイズより大きくなる（はみ出る）場合に正しく処理できなかった
           - ゴースト側 descript.txt の、sakura.seriko.defaultsurface, kero.seriko.defaultsurface の指定を見ていなかった

2020/5/17  ver 0.1.1
* [修正] surfaces.txt の記述によっては、読み込み時にエラーで落ちることがある不具合を修正

2020/5/17  ver 0.1.0
* α版公開